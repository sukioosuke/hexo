---
title: numpy的简单使用和入门
date: 2019-07-22 15:16:11
categories: python
tags: [python, 机器学习, numpy]
---

### numpy中数组的建立
```python
import numpy as np

array = np.array([5,7,3,4], dtype=np.int32)
```
在建立数组时，dtype可以选择int、int32、float、float32等

numpy还可以创建矩阵，同样也是通过array来创建的。同时在创建时可以创建全0、全1、全空数组
```python
matrix = np.array([[1, 3, 5],[2, 4, 6]])
print(matrix)
"""
[[ 1 3 5]
 [ 2 4 6]]
"""

matrix = np.zeros((3,4))
"""
array([[ 0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.]])
"""

matrix = np.ones((3,4),dtype = np.int)
"""
array([[1, 1, 1, 1],
       [1, 1, 1, 1],
       [1, 1, 1, 1]])
"""

a = np.empty((3,4))
"""
array([[  0.00000000e+000,   4.94065646e-324,   9.88131292e-324,
          1.48219694e-323],
       [  1.97626258e-323,   2.47032823e-323,   2.96439388e-323,
          3.45845952e-323],
       [  3.95252517e-323,   4.44659081e-323,   4.94065646e-323,
          5.43472210e-323]])
"""
```
在构建全空数组时，可以看到数组元素均为接近于0的极小数。

可以通过arrange、linspace和random可以创建连续数组、线段型数组和随机数组：
```python
array = np.arange(10,20,2) # 10-19 的数据，2步长
"""
array([10, 12, 14, 16, 18])
"""

array = np.linspace(1,10,20)    # 开始端1，结束端10，且分割成20个数据，生成线段
"""
array([  1.        ,   1.47368421,   1.94736842,   2.42105263,
         2.89473684,   3.36842105,   3.84210526,   4.31578947,
         4.78947368,   5.26315789,   5.73684211,   6.21052632,
         6.68421053,   7.15789474,   7.63157895,   8.10526316,
         8.57894737,   9.05263158,   9.52631579,  10.        ])
"""

array = np.random.random((2,4))
"""
array([[ 0.94692159,  0.20821798,  0.35339414,  0.2805278 ],
      [ 0.04836775,  0.04023552,  0.44091941,  0.21665268]])
"""
```
通过reshape可以改变矩阵的行列数
```python
a = np.arange(12).reshape((3,4))    # 3行4列，0到11

"""
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
"""
```

### 矩阵中的运算
numpy构建出的矩阵可以直接使用通用运算符计算加减乘除等，需要注意的是：
> * 矩阵元素平方使用的是\*\*来表示
> * 矩阵乘法a×b为np.dot(a, b)，或者a.dot(b)
> * 矩阵平均值和中位数的函数为mean()和median()
> * 矩阵累加值可以使用cumsum()来计算
> * 矩阵累差值可以使用diff()来计算
> * nonezero()函数：将所有非零元素的行与列坐标分割开，重构成两个分别关于行和列的矩阵。
> * sort()函数可以对矩阵中每行元排序
> * 矩阵的转置可以使用transpose()或者T函数实现，在转置时，应注意单纯的array是无法转置的（如：[1,1,1]），需将其行向量才能转置
> * flatten()函数可以实现矩阵的扁平化
```python
A = np.array([1,1,1])

print(A.T)
"[1,1,1]"

print(A[np.newaxis,:])
"""
[[1 1 1]]
"""

print(A[:,np.newaxis])
"""
[[1]
[1]
[1]]
"""
```

numpy可以对索引进行一系列的运算
argmin()、argmax()分别对应着求矩阵中最小元素和最大元素的索引。
在Python的 list 中，我们可以利用:对一定范围内的元素进行切片操作，在Numpy中我们依然可以使用类似的方法。如：A[1, 1:3]

clip(Array,Array_min,Array_max)函数可以使矩阵转换为在[min, max]范围内的矩阵，若矩阵中有大于max或小于min的元素值，则对应转换为max或min。

### 矩阵的合并与分割
合并：横向合并np.vstack(),纵向合并np.hstack()
np.concatenate()支持多个矩阵的合并，并且可以使用axis参数指定合并的维度

分割：